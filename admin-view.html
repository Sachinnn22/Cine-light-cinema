<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Sidebar Smooth Slide & Beautiful Table</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@700;900&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />

    <link rel="stylesheet" href="admin-style/side-bar.css">
    <link rel="stylesheet" href="admin-style/members.css">
    <link rel="stylesheet" href="admin-style/reviews.css">
    <link rel="stylesheet" href="admin-style/questions.css">

</head>

<body>

<button id="menu-btn" aria-label="Toggle Menu" type="button">
    <i class=" z-60 fa-solid fa-bars text-gray-600 text-3xl transition-all duration-300"></i>
</button>

<aside id="sidebar" class="fixed inset-y-0 left-0 w-64 bg-white border-r-4 border-gray-600 flex flex-col justify-between transform -translate-x-full z-50">
    <div>
        <div class="flex items-center justify-center h-16 border-b-4 border-gray-500 bg-gray-200 shadow-md">
            <span
                    class="ml-5 mt-2 text-2xl font-extrabold tracking-wide"
                    style="
                    font-family: 'Poppins', sans-serif;
                    background: linear-gradient(90deg, #12b1f4, #b65353, #515147);
                    -webkit-background-clip: text;
                    -webkit-text-fill-color: transparent;
                    background-clip: text;
                    color: transparent;
                "
            >
                CINE LIGHT
            </span>
        </div>

        <nav class="px-4 pt-4 text-gray-600 border-t border-gray-300">
            <a href="#" class="flex items-center gap-3 px-3 py-2 border-b-2 border-gray-400 mb-4 text-gray-500 hover:bg-gray-300 hover:text-gray-900 font-bold">
                <i class="fa-solid fa-fire opacity-75 w-5"></i>
                <span>Thriller Movie</span>
            </a>

            <a href="#" class="flex items-center gap-3 px-3 py-2 border-b-2 border-gray-400 mb-4 text-gray-500 hover:bg-gray-300 hover:text-gray-900 font-bold">
                <i class="fa-solid fa-microchip opacity-75 w-5"></i>
                <span>Sci-Fi Movie</span>
            </a>

            <a href="#" class="flex items-center gap-3 px-3 py-2 border-b-2 border-gray-400 mb-4 text-gray-500 hover:bg-gray-300 hover:text-gray-900 font-bold">
                <i class="fa-solid fa-heart opacity-75 w-5"></i>
                <span>Love Story</span>
            </a>

            <a href="#" id="adventure-link" class="flex items-center gap-3 px-3 py-2 border-b-2 border-gray-400 mb-4 text-gray-500 hover:bg-gray-300 hover:text-gray-900 font-bold">
                <i class="fa-solid fa-globe opacity-75 w-5"></i>
                <span>Adventure</span>
            </a>

            <a href="#" class="flex items-center gap-3 px-3 py-2 border-b-2 border-gray-400 mb-4 text-gray-500 hover:bg-gray-300 hover:text-gray-900 font-bold">
                <i class="fa-solid fa-circle-plus opacity-75 w-5"></i>
                <span>Add Info</span>
            </a>

            <a href="#" class="flex items-center gap-3 px-3 py-2 border-b-2 border-gray-400 mb-4 text-gray-500 hover:bg-gray-300 hover:text-gray-900 font-bold">
                <i class="fa-solid fa-clipboard-list opacity-75 w-5"></i>
                <span>View Question</span>
            </a>

            <a href="#" class="flex items-center gap-3 px-3 py-2 border-b-2 border-gray-400 mb-4 text-gray-500 hover:bg-gray-300 hover:text-gray-900 font-bold">
                <i class="fa-solid fa-star opacity-75 w-5"></i>
                <span>View Reviews</span>
            </a>

            <a href="#" class="flex items-center gap-3 px-3 py-2 border-b-2 border-gray-400 mb-4 text-gray-500 hover:bg-gray-300 hover:text-gray-900 font-bold">
                <i class="fa-solid fa-users opacity-75 w-5"></i>
                <span>Members</span>
            </a>
        </nav>
    </div>
</aside>

<div id="overlay"></div>

<div class="fixed top-3 right-4 z-60 text-gray-600 flex gap-3 sm:gap-4">
    <button
            id="credentials-btn"
            class="flex items-center justify-center w-10 h-10 sm:w-11 sm:h-11 text-[20px] sm:text-[22px] bg-[#eceff4] border border-gray-400 rounded-full transition hover:border-gray-600 hover:text-gray-700"
            title="Credentials"
    >
        <i class="fa-solid fa-user-shield"></i>
    </button>

    <button
            id="logout-btn"
            class="flex items-center justify-center w-10 h-10 sm:w-11 sm:h-11 text-[20px] sm:text-[22px] bg-[#eceff4] border border-gray-400 rounded-full transition hover:border-gray-600 hover:text-gray-700"
            title="Logout"
    >
        <i class="fa-solid fa-door-open"></i>
    </button>
</div>

<div id="credentials-modal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-lg hidden z-50 transition-all duration-300 px-4">
    <div class="bg-white rounded-lg p-6 w-full max-w-md mx-auto">
        <h2 class="text-xl font-bold mb-4 text-center">Change Password</h2>
        <form id="credentials-form">
            <label for="current-password" class="block mb-1">Current Password</label>
            <input type="password" id="current-password" name="currentPassword" required class="w-full mb-3 border border-gray-400 px-3 py-2 rounded-md">

            <label for="new-password" class="block mb-1">New Password</label>
            <input type="password" id="new-password" name="newPassword" required class="w-full mb-3 border border-gray-400 px-3 py-2 rounded-md">

            <label for="confirm-password" class="block mb-1">Confirm New Password</label>
            <input type="password" id="confirm-password" name="confirmPassword" required class="w-full mb-4 border border-gray-400 px-3 py-2 rounded-md">

            <div class="flex justify-end gap-3 flex-wrap">
                <button type="button" id="close-modal-btn" class="px-4 py-2 bg-gray-300 rounded hover:bg-gray-500">Cancel</button>
                <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-800">Change</button>
            </div>
        </form>
        <p id="credentials-error" class="text-red-500 mt-3 hidden text-sm"></p>
        <p id="credentials-success" class="text-green-500 mt-3 hidden text-sm"></p>
    </div>
</div>

<main id="content" class="w-full overflow-x-auto">
    <section id="user-details" class="page">
        <h3 class="mb-8 user">User Details</h3>
        <div id="card-container" class="grid grid-cols-3 gap-8 max-w-7xl mx-auto cd"></div>
        <div class="flex justify-center items-center gap-4 mt-10">
            <button id="prev-btn" class="btn px-4 py-2" disabled>Previous</button>
            <span id="page-info" class="text-gray-700 font-semibold"></span>
            <button id="next-btn" class="btn px-4 py-2">Next</button>
        </div>
    </section>

    <section id="questions-list" class="page" style="display:none;">
        <h3 class="mb-8 user">View Question</h3>
        <div id="questionsContainer" class="card-container"></div>
        <div class="flex justify-center items-center gap-4 mt-10">
            <button  class="btn px-4 py-2" id="pre">Previous</button>
            <span id="currentPageDisplay" class="text-gray-700 font-semibold">Page 1</span>
            <button  class="btn px-4 py-2" id="next">Next</button>
        </div>
    </section>

    <section id="review-list" class="page" style="display:none;">
        <h3 class="mb-8 user">View Reviews</h3>
        <div id="review-card-container" class="card-container"></div>
        <div class="flex justify-center items-center gap-4 mt-10">
            <button  class="btn px-4 py-2" id="pre-review">Previous</button>
            <span id="currentPageDisplayReview" class="text-gray-700 font-semibold">Page 1</span>
            <button  class="btn px-4 py-2" id="next-review">Next</button>
        </div>
    </section>

    <div id="add-movie-wrapper" style="display:none; position: fixed; top: 0.8rem; right: 8rem;">
        <button
                class="px-4 py-2 bg-blue-600 text-white flex items-center gap-2 hover:bg-blue-700 transition-colors duration-200 rounded-full"
                id="add-movie-btn"
        >
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd" />
            </svg>
            <span class="add-movie-text">Add Movie</span>
        </button>

    </div>

    <section id="action-list" class="page" style="display:none;">
        <h3 class="mb-8 user" style="font-family: 'Poppins', sans-serif;">Add Actions</h3>

        <div id="action-card-container" class="card-container grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-6 px-4">
        </div>

        <div class="flex justify-center items-center gap-4 mt-10">
            <button class="btn px-4 py-2" id="pre-action">Previous</button>
            <span id="currentPageDisplayAction" class="text-gray-700 font-semibold">Page 1</span>
            <button class="btn px-4 py-2" id="next-action">Next</button>
        </div>
    </section>

    <div id="movie-modal" class="fixed inset-0 bg-black/50 backdrop-blur-md flex items-center justify-center hidden z-50 p-4">
        <div class="bg-white p-6 rounded-lg w-full max-w-full sm:max-w-sm md:max-w-md lg:max-w-lg relative max-h-screen overflow-auto">
            <h2 class="text-2xl font-extrabold mb-6 text-center">Add Actions</h2>

            <form id="movie-form" class="space-y-4">
                <div>
                    <label class="block font-medium">Movie Image</label>
                    <input type="file" id="movie-image" accept="image/*" class="w-full border border-gray-300 rounded px-2 py-1" required>
                </div>

                <div>
                    <label class="block font-medium">Movie Name</label>
                    <input type="text" id="movie-name" class="w-full border border-gray-300 rounded px-2 py-1" required>
                </div>

                <div>
                    <label class="block font-medium">Rating</label>
                    <input type="number" id="movie-rating" min="0" max="10" step="0.1" class="w-full border border-gray-300 rounded px-2 py-1" required>
                </div>

                <div>
                    <label class="block font-medium">Release Date</label>
                    <input type="date" id="release-date" class="w-full border border-gray-300 rounded px-2 py-1" required>
                </div>

                <div>
                    <label class="block font-medium">Category</label>
                    <input
                            type="text"
                            id="movie-category"
                            class="w-full border border-gray-300 rounded px-2 py-1 bg-gray-100 cursor-not-allowed"
                            readonly
                            value="Action"
                    >
                </div>

                <div class="flex justify-end gap-4 mt-4 flex-wrap">
                    <button type="button" class="px-4 py-2 bg-gray-300 hover:bg-gray-400 text-black rounded" id="close-modal">
                        Cancel
                    </button>
                    <button
                            type="submit"
                            class="px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded focus:outline-none"
                    >
                        Save
                    </button>
                </div>
            </form>
        </div>
    </div>


    <div id="replyModal" class="fixed inset-0 hidden z-50 flex items-center justify-center bg-black/50 backdrop-blur-lg">
        <div class="bg-white p-4 sm:p-6 rounded-md shadow-lg w-[90%] max-w-md mx-4">
            <h2 class="text-lg font-semibold mb-3 text-center">Reply to Question</h2>

            <label for="replyText">Write Your Reply</label>
            <textarea id="replyText" class="w-full h-32 border border-gray-300 rounded p-2 resize-none mb-4 focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>

            <div class="flex justify-end gap-3">
                <button id="cancelBtn" class="bg-gray-300 hover:bg-gray-400 text-black px-4 py-2 rounded transition">Cancel</button>
                <button id="sendReplyBtn" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded transition">Send</button>
            </div>
        </div>
    </div>
</main>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
<script src="admin-script/members.js" type="module"></script>
<script src="admin-script/reviews.js" type="module"></script>
<script src="admin-script/side-bar.js" type="module"></script>
<script src="admin-script/question.js" type="module"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>


<script>
    const firebaseConfig = {
        apiKey: "AIzaSyCNH38ylbzfIORN0wmDoizj_eWKunQ1uAQ",
        authDomain: "my-first-app-6a293.firebaseapp.com",
        databaseURL: "https://my-first-app-6a293-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "my-first-app-6a293",
        storageBucket: "my-first-app-6a293.appspot.com",
        messagingSenderId: "599546991663",
        appId: "1:599546991663:web:b07d25c55f1d00c06722da",
        measurementId: "G-5EVKKY7KLP"
    };

    if (!firebase.apps.length) {
        firebase.initializeApp(firebaseConfig);
    } else {
        firebase.app();
    }

    const db = firebase.database();

    document.getElementById('logout-btn').addEventListener('click', function(event) {
        event.preventDefault();

        firebase.auth().signOut()
            .then(() => {
                document.cookie = "authToken=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";

                window.location.href = 'index.html';
            })
            .catch((error) => {
                console.error('Error during sign out:', error);
                alert('Failed to logout. Please try again.');
            });
    });

    document.addEventListener('DOMContentLoaded', () => {
        const credentialsBtn = document.getElementById('credentials-btn');
        const modal = document.getElementById('credentials-modal');
        const closeModalBtn = document.getElementById('close-modal-btn');
        const form = document.getElementById('credentials-form');
        const errorMsg = document.getElementById('credentials-error');    // optional now
        const successMsg = document.getElementById('credentials-success'); // optional now

        credentialsBtn.addEventListener('click', (e) => {
            e.preventDefault();
            errorMsg.classList.add('hidden');
            successMsg.classList.add('hidden');
            form.reset();
            modal.classList.remove('hidden');
        });

        closeModalBtn.addEventListener('click', () => {
            modal.classList.add('hidden');
        });

        form.addEventListener('submit', async (e) => {
            e.preventDefault();

            errorMsg.classList.add('hidden');
            successMsg.classList.add('hidden');

            const currentPassword = form.currentPassword.value.trim();
            const newPassword = form.newPassword.value.trim();
            const confirmPassword = form.confirmPassword.value.trim();

            if (newPassword !== confirmPassword) {
                showErrorMessage("New password and confirm password do not match.");
                return;
            }

            const user = firebase.auth().currentUser;

            if (!user) {
                showErrorMessage("User not logged in.");
                return;
            }

            const email = user.email;

            const payload = {
                email,
                newPassword
            };

            try {
                const response = await fetch('http://localhost:8080/reset-password', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(payload),
                });

                const data = await response.text();

                if (response.ok) {
                    showSuccessMessage(data || "Password changed successfully.");
                    form.reset();
                    setTimeout(() => {
                        modal.classList.add('hidden');
                    }, 2000);
                } else {
                    showErrorMessage(data || "Failed to change password.");
                }
            } catch (err) {
                console.error('Error:', err);
                showErrorMessage("Error connecting to server.");
            }
        });
    });

    function showErrorMessage(message) {
        const existing = document.getElementById('floating-error');
        if (existing) existing.remove();

        const errorElement = document.createElement('div');
        errorElement.id = 'floating-error';
        errorElement.innerHTML = `
        <div style="
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            color: white;
            background-color: #dc2626;
            border-radius: 0.75rem;
            padding: 0.5rem 1rem;
        ">
        <i class="fas fa-info-circle" style="font-size: 1rem; margin-right: 0.5rem;"></i>
            <span style="font-weight: 500;">${message}</span>
        </div>
    `;

        errorElement.style.position = 'fixed';
        errorElement.style.top = '3rem';
        errorElement.style.left = '50%';
        errorElement.style.transform = 'translateX(-50%) translateY(-20px)';
        errorElement.style.zIndex = '9999';
        errorElement.style.width = '460px';
        errorElement.style.maxWidth = '90%';
        errorElement.style.textAlign = 'center';
        errorElement.style.boxShadow = '0 10px 20px rgba(0,0,0,0.2)';
        errorElement.style.opacity = '0';
        errorElement.style.transition = 'opacity 0.3s ease, transform 0.3s ease';

        document.body.appendChild(errorElement);

        requestAnimationFrame(() => {
            errorElement.style.opacity = '1';
            errorElement.style.transform = 'translateX(-50%) translateY(0)';
        });

        setTimeout(() => {
            errorElement.style.opacity = '0';
            errorElement.style.transform = 'translateX(-50%) translateY(-20px)';
            setTimeout(() => {
                errorElement.remove();
            }, 500);
        }, 4000);
    }

    function showSuccessMessage(message) {
        const existing = document.getElementById('floating-success');
        if (existing) existing.remove();

        const successElement = document.createElement('div');
        successElement.id = 'floating-success';

        successElement.innerHTML = `
        <div style="
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            color: white;
            background-color: #16a34a; /* Tailwind green-600 */
            border-radius: 0.75rem;
            padding: 0.5rem 1rem;
        ">
            <i class="fas fa-check-circle" style="font-size: 1rem; margin-right: 0.6rem;"></i>
            <span style="font-weight: 500;">${message}</span>
        </div>
    `;

        successElement.style.position = 'fixed';
        successElement.style.top = '3rem';
        successElement.style.left = '50%';
        successElement.style.transform = 'translateX(-50%) translateY(-20px)';
        successElement.style.zIndex = '9999';
        successElement.style.width = '460px';
        successElement.style.maxWidth = '90%';
        successElement.style.textAlign = 'center';
        successElement.style.boxShadow = '0 10px 20px rgba(0,0,0,0.2)';
        successElement.style.opacity = '0';
        successElement.style.transition = 'opacity 0.3s ease, transform 0.3s ease';

        document.body.appendChild(successElement);

        requestAnimationFrame(() => {
            successElement.style.opacity = '1';
            successElement.style.transform = 'translateX(-50%) translateY(0)';
        });

        setTimeout(() => {
            successElement.style.opacity = '0';
            successElement.style.transform = 'translateX(-50%) translateY(-20px)';
            setTimeout(() => {
                successElement.remove();
            }, 500);
        }, 4000);
    }

</script>

<script>
    const modal = document.getElementById('movie-modal');
    const openBtn = document.getElementById('add-movie-btn');
    const closeBtn = document.getElementById('close-modal');
    const form = document.getElementById('movie-form');
    const container = document.getElementById('action-card-container');

    function createMovieCard(movie) {
        const card = document.createElement('div');
        card.classList.add('p-4', 'rounded-lg', 'shadow', 'bg-white', 'mb-4');
        card.style.border = '3px solid gray';
        card.style.width = '260px';

        card.innerHTML = `
        <img src="http://localhost:8080/uploads/${movie.imagePath}" alt="${movie.name}" class="w-full h-40 object-cover rounded mb-2">
        <h4 class="font-bold text-lg">${movie.name}</h4>
        <p>Rating: ${movie.rating}</p>
        <p>Release: ${movie.releaseDate}</p>
        <p>Category: ${movie.category}</p>
    `;
        container.appendChild(card);
    }

    function fetchAllMovies() {
        container.innerHTML = '';
        fetch('http://localhost:8080/api/movies')
            .then(response => {
                if (!response.ok) throw new Error('Failed to fetch movies');
                return response.json();
            })
            .then(movies => {
                movies.forEach(movie => createMovieCard(movie));
            })
            .catch(error => {
                alert('Error loading movies: ' + error.message);
            });
    }

    openBtn.addEventListener('click', () => {
        modal.classList.remove('hidden');
    });

    closeBtn.addEventListener('click', () => {
        modal.classList.add('hidden');
    });

    form.addEventListener('submit', (e) => {
        e.preventDefault();
        const name = document.getElementById('movie-name').value;
        const rating = parseFloat(document.getElementById('movie-rating').value);
        const releaseDate = document.getElementById('release-date').value;
        const category = document.getElementById('movie-category').value;
        const imageFile = document.getElementById('movie-image').files[0];

        if (!imageFile) {
            showErrorMessage('Please select an image.');
            return;
        }

        const formData = new FormData();
        formData.append('name', name);
        formData.append('rating', rating);
        formData.append('releaseDate', releaseDate);
        formData.append('category', category);
        formData.append('image', imageFile);

        fetch('http://localhost:8080/api/movies', {
            method: 'POST',
            body: formData
        })
            .then(async response => {
                const text = await response.text();
                if (!response.ok) {
                    showErrorMessage(text);
                    showErrorMessage(text);
                }
                showSuccessMessage(text);
                fetchAllMovies();
                modal.classList.add('hidden');
                form.reset();
            })
            .catch(error => {
                alert('Error: ' + error.message);
            });
    });

    document.getElementById('adventure-link').addEventListener('click', function(event) {
        event.preventDefault();

        localStorage.setItem('activePage', 'adventure');

        document.getElementById('action-list').style.display = 'block';
        document.getElementById('add-movie-wrapper').style.display = 'block';

        fetchAllMovies();
    });

    const otherLinks = document.querySelectorAll('#sidebar nav a:not(#adventure-link)');
    otherLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();

            localStorage.removeItem('activePage');

            document.getElementById('action-list').style.display = 'none';
            document.getElementById('add-movie-wrapper').style.display = 'none';

            container.innerHTML = '';
        });
    });

    document.addEventListener('DOMContentLoaded', function () {
        const activePage = localStorage.getItem('activePage');

        if (activePage === 'adventure') {
            document.getElementById('action-list').style.display = 'block';
            document.getElementById('add-movie-wrapper').style.display = 'block';
            fetchAllMovies();
        }
    });

</script>

<script>
    const routes = {
        'Members': 'user-details',
        'View Question': 'questions-list',
        'View Reviews': 'review-list',
        'Adventure': 'action-list'
    };

    const navLinks = document.querySelectorAll('aside nav a');

    navLinks.forEach(link => {
        link.addEventListener('click', function(event) {
            event.preventDefault();

            const linkText = this.textContent.trim();
            const pageId = routes[linkText];
            if (!pageId) return;

            document.querySelectorAll('#content .page').forEach(page => {
                page.style.display = 'none';
            });

            const page = document.getElementById(pageId);
            if (page) {
                page.style.display = 'block';
            }

            if (linkText === 'View Question') {
                currentQuiz = 0;
                loadQuestions(currentQuiz);
                updatePageDisplay();
            }

            window.location.hash = pageId;

            sidebar.classList.add("-translate-x-full");
            overlay.classList.remove("active");
            icon.classList.remove("fa-times", "text-red-600");
            icon.classList.add("fa-bars", "text-gray-600");
        });
    });

    window.addEventListener('load', () => {
        const hash = window.location.hash.slice(1);
        if (hash && document.getElementById(hash)) {
            document.querySelectorAll('#content .page').forEach(page => page.style.display = 'none');
            document.getElementById(hash).style.display = 'block';
        }
    });

    const menuBtn = document.getElementById("menu-btn");
    const sidebar = document.getElementById("sidebar");
    const overlay = document.getElementById("overlay");
    const icon = menuBtn.querySelector("i");

    menuBtn.addEventListener("click", () => {
        const isVisible = !sidebar.classList.contains("-translate-x-full");

        if (isVisible) {
            sidebar.classList.add("-translate-x-full");
            overlay.classList.remove("active");
            icon.classList.remove("fa-times", "text-red-600");
            icon.classList.add("fa-bars", "text-gray-600");
        } else {
            sidebar.classList.remove("-translate-x-full");
            overlay.classList.add("active");
            icon.classList.remove("fa-bars", "text-gray-600");
            icon.classList.add("fa-times", "text-red-600");
        }
    });

    overlay.addEventListener("click", () => {
        sidebar.classList.add("-translate-x-full");
        overlay.classList.remove("active");
        icon.classList.remove("fa-times", "text-red-600");
        icon.classList.add("fa-bars", "text-gray-600");
    });

</script>

</body>
</html>